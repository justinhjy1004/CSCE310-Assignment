import time
import math

def rus_multiplication(x,y):

    array = []

    if x == 1:
        return y

    while(x != 1):
        if x % 2 == 0:
            x = x >> 1
            y = y << 1
        else:
            array.append(y)
            x = x >> 1
            y = y << 1

    array.append(y)

    solution = 0
    for i in array:
        solution = solution + i

    return solution

def karatsuba(x, y):
    if x < 10 and y < 10:
        return x * y

    n = max(len(str(x)), len(str(y)))
    m = int(math.ceil(float(n) / 2))

    # divide x into two half
    xh = int(math.floor(x / 10 ** m))
    xl = int(x % (10 ** m))

    # divide y into two half
    yh = int(math.floor(y / 10 ** m))
    yl = int(y % (10 ** m))

    # Karatsuba's algorithm.
    s1 = karatsuba(xh, yh)
    s2 = karatsuba(yl, xl)
    s3 = karatsuba(xh + xl, yh + yl)
    s4 = s3 - s2 - s1

    return int(s1 * (10 ** (m*2)) + s4 * (10 ** m) + s2)


if __name__ == "__main__":

    start_time = time.time()
    print(356442534198409813059820948012948098039481048013958409683052345264354624354623452644335246534564986034582934563545456343463463463465363452381305982093581039641847813759879481739582793871394857982749813572698479827538246982572*
          4626253260498520938409248609285091803980945820498029235462445235624354523412452246235465645224634251345364213541454635723524139593827489137598247359248379184759183759468273068972309587628374594872958724289457293875293857928579832457928374298137524834795427)
    print("Python:")
    print("--- %s seconds ---" % (time.time() - start_time))

    start_time = time.time()
    print(rus_multiplication(356442534198409813059820948012948098039481048013958409683052345264354624354623452644335246534564986034582934563545456343463463463465363452381305982093581039641847813759879481739582793871394857982749813572698479827538246982572,
                             4626253260498520938409248609285091803980945820498029235462445235624354523412452246235465645224634251345364213541454635723524139593827489137598247359248379184759183759468273068972309587628374594872958724289457293875293857928579832457928374298137524834795427))
    print("Russian:")
    print("--- %s seconds ---" % (time.time() - start_time))

    start_time = time.time()
    print(karatsuba(356442534198409813059820948012948098039481048013958409683052345264354624354623452644335246534564986034582934563545456343463463463465363452381305982093581039641847813759879481739582793871394857982749813572698479827538246982572,
                    4626253260498520938409248609285091803980945820498029235462445235624354523412452246235465645224634251345364213541454635723524139593827489137598247359248379184759183759468273068972309587628374594872958724289457293875293857928579832457928374298137524834795427))
    print("Karatsuba: ")
    print("--- %s seconds ---" % (time.time() - start_time))